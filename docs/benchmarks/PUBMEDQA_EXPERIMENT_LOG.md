# PubMedQA Corpuså¢å¼ºå®éªŒ

## å®éªŒç›®çš„

éªŒè¯æ ¸å¿ƒå‡è®¾ï¼š**å¦‚æœcorpusåŒ…å«æ­£ç¡®çš„æ–‡æ¡£ï¼ŒLinearRAGèƒ½å¦æ£€ç´¢åˆ°å¹¶æå‡å‡†ç¡®ç‡ï¼Ÿ**

## èƒŒæ™¯

ä¹‹å‰çš„PubMedQAæµ‹è¯•æ•ˆæœæå·®ï¼ˆå‡†ç¡®ç‡~0%ï¼‰ï¼Œæ ¹æœ¬åŸå› æ˜¯ï¼š
- ä½¿ç”¨çš„50kéšæœºPubMed corpusä¸åŒ…å«PubMedQAæµ‹è¯•é›†å¯¹åº”çš„åŸå§‹è®ºæ–‡
- æ£€ç´¢åˆ†æ•°0.001-0.002ï¼ˆæ¥è¿‘éšæœºï¼‰ï¼Œè¯´æ˜æ£€ç´¢åˆ°çš„éƒ½æ˜¯å™ªå£°æ–‡æ¡£
- LLMåŸºäºå™ªå£°æ–‡æ¡£æ— æ³•åšå‡ºæ­£ç¡®åˆ¤æ–­ï¼Œå€¾å‘äºè¾“å‡º"maybe"

## å®éªŒè®¾è®¡

### æ–¹æ¡ˆA: å¿«é€ŸéªŒè¯ï¼ˆå½“å‰è¿è¡Œä¸­ï¼‰

#### Corpusè®¾è®¡
- ç›´æ¥ä½¿ç”¨PubMedQAè‡ªå¸¦çš„CONTEXTSä½œä¸ºcorpus
- 500ä¸ªé—®é¢˜ â†’ 500ä¸ªchunksï¼ˆå¹³å‡1352å­—ç¬¦ï¼‰
- **100% corpusè¦†ç›–**ï¼šæ¯ä¸ªé—®é¢˜å¯¹åº”çš„æ­£ç¡®CONTEXTSéƒ½åœ¨corpusä¸­

#### CONTEXTSç‰¹å¾
- ç»“æ„åŒ–æ‘˜è¦ï¼šBACKGROUND â†’ METHODS â†’ RESULTS
- åŒ…å«å…·ä½“ç ”ç©¶æ•°æ®ï¼špå€¼ã€ORã€CIã€ç™¾åˆ†æ¯”ç­‰
- å¹³å‡é•¿åº¦ï¼š1352å­—ç¬¦/chunk
- æ€»å…±ï¼š676KBæ–‡æœ¬

#### å®éªŒæ­¥éª¤
```bash
# 1. æå–CONTEXTSä½œä¸ºchunks
python extract_pubmedqa_contexts.py

# 2. åˆ›å»ºæµ‹è¯•corpus
mkdir -p dataset/pubmed_pubmedqa/chunk
cp pubmedqa_contexts_chunks.jsonl dataset/pubmed_pubmedqa/chunk/pubmed.jsonl

# 3. æ„å»ºå›¾ï¼ˆ500 passagesï¼Œé¢„è®¡5-10åˆ†é’Ÿï¼‰
# 4. æµ‹è¯•å‰50ä¸ªé—®é¢˜
./test_pubmedqa_with_contexts.sh
```

## é¢„æœŸç»“æœ

### å¦‚æœå‡è®¾æ­£ç¡®

| æŒ‡æ ‡ | ä¹‹å‰ï¼ˆ50kéšæœºcorpusï¼‰ | ç°åœ¨ï¼ˆCONTEXTS corpusï¼‰ | æ”¹å–„ |
|-----|-------------------|---------------------|------|
| **æ£€ç´¢åˆ†æ•°** | 0.001-0.002 | 0.1-0.3 | **100-300å€** |
| **å‡†ç¡®ç‡** | ~0% | 60-80% | **æ˜¾è‘—æå‡** |
| **Pred_answer** | å‡ ä¹å…¨"maybe" | Yes/Noåˆ†å¸ƒæ­£å¸¸ | **æ¢å¤æ­£å¸¸** |

### å…³é”®éªŒè¯ç‚¹

1. **æ£€ç´¢åˆ†æ•°**ï¼šåº”è¯¥ä»0.001æå‡åˆ°0.1+
   - è¯´æ˜LinearRAGèƒ½å¤Ÿä»æ­£ç¡®çš„corpusæ£€ç´¢åˆ°å¯¹åº”æ–‡æ¡£
   - å®ä½“ç›¸ä¼¼åº¦æ£€ç´¢æ–¹æ³•æœ‰æ•ˆ

2. **å‡†ç¡®ç‡**ï¼šåº”è¯¥ä»0%æå‡åˆ°60-80%
   - è¯´æ˜LLMåŸºäºæ­£ç¡®æ–‡æ¡£èƒ½åšå‡ºæ­£ç¡®åˆ¤æ–­
   - è¯æ˜corpusåŒ¹é…çš„é‡è¦æ€§

3. **æ£€ç´¢æ–‡æ¡£å†…å®¹**ï¼šåº”è¯¥åŒ…å«é—®é¢˜ç›¸å…³çš„ç»Ÿè®¡æ•°æ®
   - på€¼ã€ORã€CIç­‰å…³é”®æ•°æ®
   - RESULTSéƒ¨åˆ†çš„å…·ä½“å‘ç°

## å½“å‰è¿›åº¦

### å·²å®Œæˆ

âœ… æå–PubMedQA CONTEXTSï¼ˆ500 chunksï¼‰  
âœ… åˆ›å»ºæµ‹è¯•corpus  
âœ… å¯åŠ¨å›¾æ„å»ºå’Œæµ‹è¯•ä»»åŠ¡  

### è¿è¡Œä¸­

ğŸ”„ æ„å»ºå›¾ï¼š500 passages NERå¤„ç†  
ğŸ”„ é¢„è®¡å®Œæˆæ—¶é—´ï¼š5-10åˆ†é’Ÿ  

### ç›‘æ§å‘½ä»¤

```bash
# æŸ¥çœ‹è¿›åº¦
tail -f test_pubmedqa_contexts_final.log

# æ£€æŸ¥è¿›ç¨‹
ps aux | grep python | grep pubmedqa

# æŸ¥çœ‹ç»“æœ
cat results_pubmed_pubmedqa_pubmedqa.json
```

## åç»­è®¡åˆ’

### å¦‚æœæ–¹æ¡ˆAæˆåŠŸ

è¯´æ˜å‡è®¾æ­£ç¡®ï¼Œå¯ä»¥è€ƒè™‘ï¼š

1. **å®Œæ•´æµ‹è¯•**ï¼šæµ‹è¯•å…¨éƒ¨500ä¸ªé—®é¢˜
2. **æ–¹æ¡ˆB**ï¼šå°†500ä¸ªchunksåŠ å…¥50k corpus
   - æµ‹è¯•åœ¨å¤§è§„æ¨¡corpusä¸­çš„æ£€ç´¢èƒ½åŠ›
   - éªŒè¯LinearRAGçš„æ‰©å±•æ€§

### å¦‚æœæ–¹æ¡ˆAå¤±è´¥

éœ€è¦è°ƒæŸ¥ï¼š

1. æ£€ç´¢æ–¹æ³•æ˜¯å¦é€‚åˆç»“æ„åŒ–æ‘˜è¦
2. NERæ˜¯å¦æ­£ç¡®æå–äº†å…³é”®å®ä½“
3. æ˜¯å¦éœ€è¦è°ƒæ•´æ£€ç´¢å‚æ•°ï¼ˆtop_kç­‰ï¼‰

## ç†è®ºæ„ä¹‰

è¿™ä¸ªå®éªŒéªŒè¯äº†ä¸€ä¸ªé‡è¦çš„ç†è®ºï¼š

**Corpusè®¾è®¡ > æ£€ç´¢æ–¹æ³•å¤æ‚åº¦**

- å¥½çš„corpusï¼ˆåŒ…å«æ­£ç¡®æ–‡æ¡£ï¼‰+ ç®€å•æ£€ç´¢ â†’ å¥½æ•ˆæœ
- å·®çš„corpusï¼ˆä¸åŒ…å«æ­£ç¡®æ–‡æ¡£ï¼‰+ å¤æ‚æ£€ç´¢ â†’ å·®æ•ˆæœ

å¯¹äºç‰¹å®šä»»åŠ¡ï¼ˆå¦‚PubMedQAï¼‰ï¼š
- æ¯ä¸ªé—®é¢˜å¯¹åº”ç‰¹å®šè®ºæ–‡çš„ç ”ç©¶æ•°æ®
- ä¸èƒ½ç”¨å…¶ä»–è®ºæ–‡çŸ¥è¯†ä»£æ›¿
- Corpuså¿…é¡»åŒ…å«è¿™äº›ç‰¹å®šè®ºæ–‡

## æ–‡ä»¶æ¸…å•

### ç”Ÿæˆçš„æ–‡ä»¶

1. `pubmedqa_contexts_chunks.jsonl` - 500ä¸ªCONTEXTS chunks
2. `dataset/pubmed_pubmedqa/chunk/pubmed.jsonl` - æµ‹è¯•corpus
3. `test_pubmedqa_with_contexts.sh` - å¿«é€Ÿæµ‹è¯•è„šæœ¬
4. `test_pubmedqa_contexts_final.log` - è¿è¡Œæ—¥å¿—

### è„šæœ¬æ–‡ä»¶

1. `extract_pubmedqa_contexts.py` - æå–CONTEXTS
2. `augment_graph_with_pubmedqa.py` - å¢å¼ºå›¾
3. `download_pubmedqa_abstracts.py` - ä¸‹è½½æ‘˜è¦ï¼ˆå¤‡é€‰ï¼‰

### åˆ†ææŠ¥å‘Š

1. `PUBMEDQA_ANALYSIS_REPORT.md` - è¯¦ç»†åˆ†ææŠ¥å‘Š
2. `analyze_pubmedqa_retrieval.py` - åˆ†æè„šæœ¬
3. `check_pubmedqa_corpus_overlap.py` - é‡å æ£€æŸ¥

## é¢„è®¡å®Œæˆæ—¶é—´

- å›¾æ„å»ºï¼š5-10åˆ†é’Ÿï¼ˆ500 passages NERï¼‰
- æµ‹è¯•50é—®é¢˜ï¼š5-10åˆ†é’Ÿï¼ˆæ£€ç´¢+LLMæ¨ç†ï¼‰
- **æ€»è®¡ï¼š10-20åˆ†é’Ÿ**

## ç»“æœä¿å­˜

ç»“æœå°†ä¿å­˜åœ¨ï¼š
- `results_pubmed_pubmedqa_pubmedqa.json` - è¯¦ç»†ç»“æœ
- `results_pubmed_pubmedqa_pubmedqa_summary.json` - æ±‡æ€»

---

**å®éªŒçŠ¶æ€**: ğŸ”„ è¿è¡Œä¸­  
**å¼€å§‹æ—¶é—´**: 2024-12-02 15:37  
**é¢„è®¡å®Œæˆ**: 2024-12-02 15:50  
**æ—¥å¿—æ–‡ä»¶**: `test_pubmedqa_contexts_final.log`
